# 架构

## 后端

这部分在server文件夹内

### 主体框架[express](https://expressjs.com/en/guide/routing.html)

用来处理来自前端的URL请求，这个用npm安装

```shell
# 这部分在server文件夹内运行
npm init
npm install express --save
```

之后创建app.js文件作为后端API服务

### 数据库mongoose

#### 在服务器（google）上创建

#### 在express上链接

需要在npm上安装链接器（就是一堆用来管理链接的代码）方便用js语法链接mongoose数据库

```shell
npm install mongoose
```

#### 使用

```js
const mongoose = require('mongoose');

mongoose.connect('yourMongoDBConnectionString', { useNewUrlParser: true, useUnifiedTopology: true })
  .then(() => console.log('MongoDB connected'))
  .catch(err => console.log(err));
```

## 前端

这部分在web文件夹内

### 主体框架angular

用angular的语法生成html，不是直接写html界面

```shell
npm install -g @angular/cli
# 这部分在这个项目的根目录运行（会创建一个web子文件夹）
ng new web --minimal
cd web
# 尝试运行默认生成的项目
ng serve --open
```

#### 常用指令

```
# 创建组件
ng g c <component name>
# 创建服务
ng g s <service name>
```

### css式样ng-bootstrap

```shell
ng add @ng-bootstrap/ng-bootstrap
```

https://ng-bootstrap.github.io/#/home

### 图表highcharts-angular

https://www.npmjs.com/package/highcharts-angular

### 分享链接

[twitter](https://developer.twitter.com/en/docs/twitter-for-websites/tweet-button/overview)
[facebook](https://developers.facebook.com/docs/plugins/share-button)

### icons

https://fontawesome.com/search
- https://icons.getbootstrap.com/icons/caret-up-ﬁll
- https://icons.getbootstrap.com/icons/caret-down-ﬁll
- https://icons.getbootstrap.com/icons/star
- https://icons.getbootstrap.com/icons/star-ﬁll
- https://icons.getbootstrap.com/icons/x
- https://fontawesome.com/icons/facebook-square?s=brands
- https://fontawesome.com/icons/twitter?s=brands

# API

## 搜索自动补全

搜索栏提示有哪些可能的股票选项

**The autocomplete response is filtered using the criteria: type= ‘Common Stock’, Symbol doesn’t**
**contain ‘.’(dot)**

```
https://finnhub.io/api/v1/search?q=<COMPANY_NAME/SYMBOL>&token=<API_TOKEN>
```

## 详情界面



重要提示：**所有数值应四舍五入到小数点后2位。**

**股票详细信息部分和摘要选项卡中提到的数据应在股市开放时每15秒自动更新一次**



# 注意重点

## 路由导航

主页路由['/']重定向到['/search/home']-这是此应用程序的默认路由。

B）搜索详细信息路线['/search/<ticker>']-它显示搜索的<ticker>的详细信息

C）监视列表路由['/watchlist']-它显示用户的监视列表。

D）投资组合路线['/portfolio']-它显示用户的投资组合。

用户执行搜索股票代码后，页面应路由到/search/<ticker>路径（例如：/search/AMZN）。成功搜索时需要显示以下组件

重要提示：如果用户导航到watchlist或portfolio，并导航回search页面，则之前搜索的股票结果应保留在搜索/<ticker>路由上。此外，结果数据应从状态/服务中检索，而不是从新的搜索API调用中获取。